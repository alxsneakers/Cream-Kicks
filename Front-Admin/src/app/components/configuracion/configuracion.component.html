<!-- MENU NAV -->
<app-nav></app-nav>

<section>
    <div class="container-fluid pt-5 px-4">
        <div class="row my-5 ">
            <div class=" col-xl-10 col-lg-9 col-md-8 ml-auto ">
                <div class="card">

                    <div class="col-md-12 pt-2 ">
                        <div class="text-left justify-content-between">

                            <h1>Ajustes de la cuenta</h1>
                        </div>
                    </div>

                    <!-- nombre card -->
                    <div class="col-md-12 pt-2 ">

                        <div> <!-- centra el columna-->
                            <h4>Administrador</h4>
                            <p>Este es tu nombre de usuario en CreamKicksAdmin.</p>

                            <!-- error al cambiar el nombre -->
                            <section>
                                <app-login-error *ngIf="isError$ | async" [error]="isError$ | async"></app-login-error>
                            </section>
                        </div>

                        <form class="datosInterior" (ngSubmit)="actualizar_nombre_admin()" [formGroup]="formUpdateNombre">
                            <div class="row align-items-center">

                                <div class="col-xl-11 col-lg-10 col-md-9 col-sm-8 col-8">
                                    <mat-form-field class="mt-3 w-100" appearance="outline">
                                        <mat-label> Nombre</mat-label>
                                        <input type="text" class="input" matInput maxlength="48"
                                            formControlName="nombre">

                                        <mat-error *ngIf="formUpdateNombre
                                            .get('nombre')?.touched">
                                            obligatario
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-xl-1 col-lg-2 col-md-3 col-sm-4 col-4">

                                    <button mat-button class="btn button"
                                        [disabled]="formUpdateNombre.invalid && isLoading$ | async"
                                        [class.spinner]="isLoading$ | async">Guardar</button>
                                </div>
                            </div>

                        </form>
                    </div>

                    <!-- imagen card -->
                    <div class="col-md-12 pt-2 ">
                        <div> <!-- centra el columna-->
                            <h4>Imagen Perfil</h4>
                            <p>Pulsa en la imagen para cambiarla.</p>
                        </div>
                        <form  class="datosInterior" (ngSubmit)="actualizar_imgPerfil_admin()" [formGroup]="formUploadImagenPerfil">
                            <div class="ml-4 containerImgProfile">
                                <label for="file-input">
                                    <img class="imgPerfil" [src]="imgSelect">
                                </label>
                                <input type="file" id="file-input" (change)="fileChangeEvent($event)"
                                    formControlName="imagenPerfil">
                            </div>


                            <small>La imagen de perfil es opcional. <br> </small>

                            <button class="btn mt-2" mat-button [disabled]="formUploadImagenPerfil.invalid">
                                <ion-icon name="cloud-upload-outline"></ion-icon>
                                Subir
                            </button>

                        </form>


                    </div>

                    <!-- email -->
                    <div class="col-md-12 pt-2">

                        <div> <!-- centra el columna-->
                            <h4>Email</h4>
                            <p>Este es tu email en CreamKicksAdmin.</p>

                            <!-- error al cambiar el nombre -->
                            <section>
                                <app-login-error *ngIf="isError$ | async" [error]="isError$ | async"></app-login-error>
                            </section>
                        </div>

                        <form  class="datosInterior" (ngSubmit)="actualizar_nombre_admin()" >
                            <div class="row align-items-center">

                                <div class="col-xl-11 col-lg-10 col-md-9 col-sm-8 col-8">
                                    <mat-form-field class="mt-3 w-100" appearance="outline">
                                        <mat-label> Email</mat-label>
                                        <input type="email" class="input" matInput readonly [value]="userInfo2.email">
                                    </mat-form-field>
                                </div>
                                <div class="col-xl-1 col-lg-2 col-md-3 col-sm-4 col-4">

                                    <button mat-button class="btn button"
                                        [disabled]="formUpdateNombre.invalid && isLoading$ | async"
                                        [class.spinner]="isLoading$ | async">Guardar</button>
                                </div>
                            </div>

                        </form>
                    </div>

                    <!-- borrar cuenta -->
                    <div class="col-md-12 pt-2 pb-3 " >

                        <div class="p-3 eliminarCuenta">
                                <h4>Borrar Cuenta</h4>
                                <p>Elimine de forma permanente su Cuenta y todo su contenido de
                                    CreamKicksAdmin.<br>
                                    Esta acción <strong class="text-uppercase">no es reversible</strong>, continue con precaución.
                                </p>
                                <button mat-button class="btnEliminar"
                                (click)="openDialog()">Borrar cuenta</button>
                        </div>

                    </div>




                </div>

            </div>
        </div>
    </div>

</section>